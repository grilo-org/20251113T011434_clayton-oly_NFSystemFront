<div class="container">
  <div class="nt-fsc-prt">
    <div class="title-nt">
      <ul>
        <li>
          <p>Notas Fiscais</p>
        </li>
      </ul>
    </div>
    <div class="btn-criar">
      <button class="btn-nova-nota" (click)="novaNota()">
        Nova Nota Fiscal
      </button>
      <button class="btn-cadastro-produto" (click)="novoProduto()">
        Cadastrar Produto
      </button>
    </div>
  </div>

  <table class="table-nsa" *ngIf="notas && notas.length > 0; else semNotas">
    <thead class="table-light">
      <tr>
        <th>Número</th>
        <th>Status</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let nota of notas">
        <td>{{ nota.numero }}</td>
        <td>{{ nota.status }}</td>
        <td>
          <div class="btn-imp-exc">
            <button class="btn-editar" [disabled]="nota.status !== 'Aberta'" (click)="editarNota(nota)">
              Editar
            </button>
            <button class="btn-imprimir" [disabled]="nota.status !== 'Aberta' || nota.processando"
              (click)="imprimir(nota)">
              <ng-container *ngIf="!nota.processando; else carregando">
                Imprimir
              </ng-container>
              <ng-template #carregando>
                <span class="spinner"></span> Processando...
              </ng-template>
            </button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>

  <ng-template #semNotas>
    <p class="sem-registros">Nenhuma nota encontrada.</p>
  </ng-template>
</div>